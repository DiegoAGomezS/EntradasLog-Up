<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Reporte Financiero – RNF-02</title>
    <style>
        body{
            font-family: Arial;
            background:#f4f4f4;
            padding:30px;
        }
        .container{
            background:white;
            width:450px;
            padding:20px;
            margin:auto;
            border-radius:8px;
            box-shadow:0 2px 8px rgba(0,0,0,.2);
        }
        label{font-weight:bold;}
        select{
            width:100%;
            padding:8px;
            margin-bottom:12px;
        }
        button{
            padding:10px 18px;
            border:none;
            background:#28a745;
            color:white;
            border-radius:5px;
            cursor:pointer;
            margin-right:5px;
        }
        .error{
            background:#f8d7da;
            padding:10px;
            border-left:5px solid #a30000;
            margin-bottom:12px;
        }
        .success{
            background:#d4edda;
            padding:10px;
            border-left:5px solid #0f6b27;
            margin-bottom:12px;
        }
        .row{
            margin-top:10px;
            display:flex;
            gap:10px;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Generación de Reporte Financiero</h2>

    <div id="msg"></div>

    <label>Tipo de Reporte</label>
    <select id="tipoReporte">
        <option value="">Seleccione...</option>
        <option value="Ingresos">Ingresos</option>
        <option value="Gastos">Gastos</option>
        <option value="General">General</option>
        <option value="Balance">Balance</option>
    </select>

    <label>Formato</label>
    <select id="formato">
        <option value="">Seleccione...</option>
        <option value="PDF">PDF</option>
        <option value="Excel">Excel</option>
        <option value="HTML">HTML</option>
    </select>

    <div class="row">
        <button onclick="generarReporte()">Generar</button>
        <button onclick="exportarReporte()">Exportar</button>
    </div>
</div>

<script>

    function mostrarMensaje(texto, tipo){
        const msg = document.getElementById("msg");
        msg.innerHTML = `<div class="${tipo}">${texto}</div>`;
    }

    function validarCampos(tipo, formato){
        if(!tipo || !formato){
            mostrarMensaje("Debe seleccionar el tipo de reporte y el formato.", "error");
            return false;
        }
        return true;
    }

    function generarReporte(){
        const tipo = document.getElementById("tipoReporte").value;
        const formato = document.getElementById("formato").value;

        if(!validarCampos(tipo, formato)) return;

        const reporte = {
            reporteID: Date.now(),
            tipoReporte: tipo,
            formato: formato,
            fechaGeneracion: new Date().toLocaleString()
        };

        localStorage.setItem("reporteGenerado", JSON.stringify(reporte));

        mostrarMensaje(`Reporte generado correctamente (${tipo}).`, "success");
    }

    function exportarReporte(){
        const reporte = JSON.parse(localStorage.getItem("reporteGenerado"));

        if(!reporte){
            mostrarMensaje("Primero debe generar un reporte.", "error");
            return;
        }

        mostrarMensaje(`Reporte exportado en formato ${reporte.formato}.`, "success");
    }

</script>

</body>
</html>
